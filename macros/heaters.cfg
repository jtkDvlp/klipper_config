[gcode_macro HEAT_CHAMBER]
gcode:
  {% set TEMP = (params.TEMP|float|default(45)) %}
  _HOMED
  G0 Z30 F3600
  CENTER
  M106 S255
  CHANGE_LED_EFFECT EFFECT=heating
  M140 S{(TEMP|float * 1.2)|round}
  SET_TEMPERATURE_FAN_TARGET TEMPERATURE_FAN=chamber TARGET={TEMP}
  TEMPERATURE_WAIT SENSOR="temperature_fan chamber" MINIMUM={(TEMP|float * 0.8)|round}
  CHANGE_LED_EFFECT EFFECT=idle
  M140 S{TEMP}
  M107

[gcode_macro HEAT_BED]
gcode:
  CHANGE_LED_EFFECT EFFECT=heating
  M190 S{params.TEMP}
  CHANGE_LED_EFFECT EFFECT=idle

[gcode_macro HEAT_EXTRUDER]
gcode:
  CHANGE_LED_EFFECT EFFECT=heating
  M109 S{params.TEMP}
  CHANGE_LED_EFFECT EFFECT=idle